INCLUDE "hardware.inc"
INCLUDE "game.inc"
SECTION "Data", rom0

Tiles::
    DB $80, $80, $80, $80, $80, $80, $80, $80
    DB $80, $80, $80, $80, $80, $80, $80, $80
    DB $FF, $FF, $00, $00, $00, $00, $00, $00
    DB $00, $00, $00, $00, $00, $00, $00, $00
    DB $01, $01, $01, $01, $01, $01, $01, $01
    DB $01, $01, $01, $01, $01, $01, $01, $01
    DB $00, $00, $00, $00, $00, $00, $00, $00
    DB $00, $00, $00, $00, $00, $00, $FF, $FF
    DB $80, $80, $80, $80, $80, $80, $80, $80
    DB $80, $80, $80, $80, $80, $80, $FF, $FF
    DB $FF, $FF, $80, $80, $80, $80, $80, $80
    DB $80, $80, $80, $80, $80, $80, $80, $80
    DB $FF, $FF, $01, $01, $01, $01, $01, $01
    DB $01, $01, $01, $01, $01, $01, $01, $01
    DB $01, $01, $01, $01, $01, $01, $01, $01
    DB $01, $01, $01, $01, $01, $01, $FF, $FF
    DB $81, $81, $82, $82, $84, $84, $88, $88
    DB $90, $90, $A0, $A0, $C0, $C0, $80, $80
    DB $FF, $FF, $40, $40, $20, $20, $10, $10
    DB $08, $08, $04, $04, $02, $02, $01, $01
    DB $01, $01, $03, $03, $05, $05, $09, $09
    DB $11, $11, $21, $21, $41, $41, $81, $81
    DB $80, $80, $40, $40, $20, $20, $10, $10
    DB $08, $08, $04, $04, $02, $02, $FF, $FF
    DB $80, $80, $C0, $C0, $A0, $A0, $90, $90
    DB $88, $88, $84, $84, $82, $82, $81, $81
    DB $FF, $FF, $02, $02, $04, $04, $08, $08
    DB $10, $10, $20, $20, $40, $40, $80, $80
    DB $81, $81, $41, $41, $21, $21, $11, $11
    DB $09, $09, $05, $05, $03, $03, $01, $01
    DB $01, $01, $02, $02, $04, $04, $08, $08
    DB $10, $10, $20, $20, $40, $40, $FF, $FF
    DB $80, $80, $40, $40, $20, $20, $10, $10
    DB $08, $08, $04, $04, $02, $02, $01, $01
    DB $01, $01, $02, $02, $04, $04, $08, $08
    DB $10, $10, $20, $20, $40, $40, $80, $80
    DB $00, $FF, $00, $FF, $00, $FF, $00, $FF
    DB $00, $FF, $00, $FF, $00, $FF, $00, $FF
    DB $00, $00, $00, $00, $00, $00, $00, $00
    DB $00, $00, $00, $00, $00, $00, $00, $00
 
TilesEnd::

;columns of tile indices that draw a visible space in the FOV, f=forward, l = left, r = right, # = distance in that direction from player 
;space 0 - f1
FOVSpace0::
    ;db 84 ;first byte is # of bytes between this space and the next one
    db $01 ;second byte defines leftmost column this space draws to
    db $B8,$28,$07,$03,$20,$B8,$B8,$08,$BF,$BB,$18,$B8,$B8,$08,$BF,$BB,$18,$B8,$B8,$08,$BF,$BB,$18,$B8,$B8,$08,$BF,$BB,$18,$B8,$B8,$08,$BF,$BB,$18,$B8,$B8,$08,$BF,$BB,$18,$B8,$B8,$08,$BF,$BB,$18,$B8,$B8,$08,$BF,$BB,$18,$B8,$B8,$08,$BF,$BB,$18,$B8,$B8,$08,$BF,$BB,$18,$B8,$B8,$08,$BF,$BB,$18,$B8,$B8,$08,$BF,$BB,$18,$B8,$B8,$30,$17,$13,$38,$B8
;space 1 - f2
FOVSpace1::
    ;db 40
    db $04
    db $BB,$28,$05,$20,$BB,$BB,$08,$BD,$18,$BB,$BB,$08,$BD,$18,$BB,$BB,$08,$BD,$18,$BB,$BB,$08,$BD,$18,$BB,$BB,$08,$BD,$18,$BB,$BB,$08,$BD,$18,$BB,$BB,$30,$15,$38,$BB
;space 2 - f3
FOVSpace2::
    ;db 20
    db $06
    db $BD,$28,$01,$20,$BD,$BD,$08,$B9,$18,$BD,$BD,$08,$B9,$18,$BD,$BD,$30,$11,$38,$BD
;space 3 - f4
FOVSpace3::
    ;db 8
    db $07
    db $BE,$28,$20,$BE,$BE,$30,$38,$BE
;space 4 - l1
FOVSpace4:: 
    ;db 4
    db $00
    db $80,$17,$15,$88
;space 5 - l1 f1
FOVSpace5::
    ;db 23
    db $00
    db $B8,$30,$17,$13,$38,$B8,$B8,$80,$BF,$BB,$88,$B8,$B9,$80,$BF,$B9,$88,$B9,$BA,$80,$17,$88,$BA
;space 6 - l1 f2
FOVSpace6::
    ;db 30
    db $00
    db $BB,$08,$BD,$18,$BB,$BB,$08,$BD,$18,$BB,$BB,$08,$BD,$18,$BB,$BB,$30,$15,$38,$BB,$BB,$80,$BD,$88,$BB,$BC,$80,$13,$88,$BC
;space 7 - l2 f2
FOVSpace7::
    ;db 10
    db $00
    db $BB,$80,$BD,$88,$BB,$BC,$80,$13,$88,$BC
;space 8 - l1 f3
FOVSpace8::
    ;db 25
    db $02
    db $BD,$28,$01,$20,$BD
    db $BD,$08,$B9,$18,$BD
    db $BD,$08,$B9,$18,$BD
    db $BD,$30,$11,$38,$BD,
    db $BD,$80,$11,$88,$BD
;space 9 - l2 f3
FOVSpace9::
    ;db 15
    db $00
    db $BD,$08,$B9,$18,$BD,$BD,$30,$11,$38,$BD,$BD,$80,$11,$88,$BD
;space 10 - l1 f4
FOVSpace10::
    ;db 8
    db $05
    db $BE,$28,$20,$BE,$BE,$30,$38,$BE
;space 11 - l2 f4
FOVSpace11::
    ;db 8
    db $03
    db $BE,$28,$20,$BE,$BE,$30,$38,$BE
;space 12 - l3 f4
FOVSpace12::
    ;db 8
    db $01
    db $BE,$28,$20,$BE,$BE,$30,$38,$BE
;space 13 - l4 f4
FOVSpace13::
    ;db 4
    db $00
    db $BE,$30,$38,$BE
;space 14 - r1
FOVSpace14::
    ;db 4
    db $0F
    db $88,$07,$05,$80
;space 15 - r1 f1
FOVSpace15::
    ;db 23
    db $0C
    db $BA,$88,$07,$80,$BA,$B9,$88,$BF,$B9,$80,$B9,$B8,$88,$BF,$BB,$80,$B8,$B8,$28,$07,$03,$20,$B8
;space 16 - r1 f2
FOVSpace16::
    ;db 30
    db $0A
    db $BC,$88,$03,$80,$BC,$BB,$88,$BD,$80,$BB,$BB,$28,$05,$20,$BB,$BB,$08,$BD,$18,$BB,$BB,$08,$BD,$18,$BB,$BB,$08,$BD,$18,$BB
;space 17 - r2 f2
FOVSpace17::
    ;db 10
    db $0E
    db $BC,$88,$03,$80,$BC,$BB,$88,$BD,$80,$BB
;space 18 - r1 f3
FOVSpace18:
    ;db 25
    db $09
    db $BD,$88,$01,$80,$BD,$BD,$28,$01,$20,$BD,$BD,$08,$B9,$18,$BD,$BD,$08,$B9,$18,$BD,$BD,$30,$11,$38,$BD
;space 19 - r2 f3
FOVSpace19::
    ;db 15
    db $0D
    db $BD,$88,$01,$80,$BD,$BD,$28,$01,$20,$BD,$BD,$08,$B9,$18,$BD
;space 20 - r1 f4
FOVSpace20::
    ;db 8
    db $09
    db $BE,$28,$20,$BE,$BE,$30,$38,$BE
;space 21 - r2 f4
FOVSpace21::
    ;db 8
    db $0B
    db $BE,$28,$20,$BE,$BE,$30,$38,$BE
;space 22 - r3 f4
FOVSpace22::
    ;db 8
    db $0D
    db $BE,$28,$20,$BE,$BE,$30,$38,$BE
;space 23 - r4 f4
FOVSpace23::
    ;db 4
    db $0F
    db $BE,$28,$20,$BE
FOVSpace24:: ;special case, cannot see this distance so it is just a dark square
    db $BE, $B1, $BE
;add space index to FOVSpaceOffsets address to get address of the FOVSpace
FOVSpaceOffsets::
    dw FOVSpace0
    dw FOVSpace1
    dw FOVSpace2
    dw FOVSpace3
    dw FOVSpace4
    dw FOVSpace5
    dw FOVSpace6
    dw FOVSpace7
    dw FOVSpace8
    dw FOVSpace9
    dw FOVSpace10
    dw FOVSpace11
    dw FOVSpace12
    dw FOVSpace13
    dw FOVSpace14
    dw FOVSpace15
    dw FOVSpace16
    dw FOVSpace17
    dw FOVSpace18
    dw FOVSpace19
    dw FOVSpace20
    dw FOVSpace21
    dw FOVSpace22
    dw FOVSpace23

; Tilemap::
; db BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, 
; db BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, 
; db BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, 
; db BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, 
; db BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, 
; db BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, 
; db BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, 
; db BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, 
; db BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, 
; db BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, 
; db BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, 
; db BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, 
; db BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, 
; db BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, 
; db BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, 
; db BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, 
; db BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, 
; db BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, 
; db BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, 
; db BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, 
; db BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, 
; db BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, 
; db BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, 
; db BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, 
; db BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, 
; db BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, 
; db BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, 
; db BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, 
; db BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, 
; db BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, 
; db BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, 
; db BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, BLANK_TILE, 
; TilemapEnd::

Dungeon:: ;player at row 6 column 4
DungeonSize:: db 32, 16, 160 ;height, width of dungeon, startpoint (# of addresses into map where player starts)
db $01, $01, $01, $01, $01, $01, $01, $01, $01, $01, $01, $01, $01, $01, $01, $01, $01, $01, $01, $01, $01, $01, $01, $01, $01, $01, $01, $01, $01, $01, $01, $01
db $01, $00, $00, $00, $00, $00, $00, $00, $00, $00, $01, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $01
db $01, $00, $00, $00, $00, $00, $00, $00, $00, $00, $01, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $01
db $01, $00, $00, $00, $00, $00, $00, $01, $00, $00, $01, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $01, $00, $00, $00, $00, $00, $00, $01
db $01, $00, $00, $00, $00, $00, $00, $01, $01, $00, $01, $00, $00, $01, $01, $00, $00, $01, $01, $01, $01, $01, $00, $00, $00, $01, $00, $00, $00, $00, $00, $01
db $01, $00, $00, $00, $00, $00, $00, $01, $01, $00, $01, $00, $00, $01, $01, $00, $00, $01, $01, $00, $00, $00, $00, $00, $00, $00, $01, $00, $00, $00, $00, $01
db $01, $00, $00, $00, $00, $00, $00, $00, $01, $00, $01, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $01, $00, $00, $00, $01
db $01, $00, $00, $01, $01, $00, $00, $00, $01, $01, $01, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $01, $00, $00, $01
db $01, $00, $01, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $01, $00, $00, $00, $01, $00, $01
db $01, $00, $00, $00, $00, $00, $00, $00, $00, $00, $01, $01, $00, $00, $00, $00, $00, $00, $00, $00, $00, $01, $01, $01, $00, $01, $00, $00, $00, $00, $01, $01
db $01, $00, $00, $00, $00, $00, $00, $00, $00, $00, $01, $01, $00, $00, $00, $00, $00, $00, $00, $00, $00, $01, $01, $01, $01, $01, $00, $00, $00, $00, $00, $01
db $01, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $01, $01, $00, $01, $01, $01, $01, $00, $00, $01, $00, $00, $00, $00, $00, $00, $00, $00, $00, $01
db $01, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $01, $01, $00, $01, $01, $00, $00, $01, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $01
db $01, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $01, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $01
db $01, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $01
db $01, $01, $01, $01, $01, $01, $01, $01, $01, $01, $01, $01, $01, $01, $01, $01, $01, $01, $01, $01, $01, $01, $01, $01, $01, $01, $01, $01, $01, $01, $01, $01

                       ;;;

;FF  
;in order from left to right, columns and the spaces in FOV that draw on them, in order of priority draw
ColumnToSpaces::
    db 14, 15, 16, 17, 19, 23 ;column 15 can be drawn on by spaces 14, 15, ..., 23
    db 0, 15, 16, 17, 19, 22 ;column 14 ...
    db 0, 15, 16, 18, 19, 22
    db 0, 15, 16, 18, 21, 24
    db 0, 1, 16, 18, 21, 24 ;24 is the stop value when searching for a space to draw on a column
    db 0, 1, 16, 18, 20, 24
    db 0, 1, 2, 18, 20, 24
    db 0, 1, 2, 3, 24, 24
    db 0, 1, 2, 3, 24, 24
    db 0, 1, 2, 8, 10, 24
    db 0, 1, 6, 8, 10, 24
    db 0, 1, 6, 8, 11, 24
    db 0, 5, 6, 8, 11, 24
    db 0, 5, 6, 8, 9, 12
    db 0, 5, 6, 7, 9, 12
    db 4, 5, 6, 7, 9, 13 ; ... column 0

;;;;;X, Y sequences for traversing FOV. a facing will determine the combination of these, 
;;;;;which will in turn determine the sequence of dungeon spaces 
SequenceX:: db 1, 2, 3, 4, 255, 255, 255, 255, 255, 255
SequenceY:: db 4, 4, 4, 4, 255, 255, 255, 255, 255, 255
SequenceZ:: db 3, 2, 1, 0, 255, 255, 255, 255, 255, 255
SequenceA:: db 0, 1, 2, 2, 3, 3, 4, 4, 4, 4
SequenceB:: db 4, 3, 2, 2, 1, 1, 0, 0, 0, 0
SequenceC:: db 3, 3, 3, 2, 3, 2, 3, 2, 1, 0
SequenceD:: db 5, 5, 5, 6, 5, 6, 5, 6, 7, 8

YRelSeq:: db 0, 4, 4, 4 ;4 means that at the given facing we are starting from playerposy - 4. 0 means starting from playerposy
XRelSeq:: db 4, 0, 4, 4



Section "Global Variables", wram0
wFOV:: ds 24
wTempPadding: ds 8 ;to make tilemap buffer line up conveniently in memory view
wTilemapBuffer:: ds 256 ;draft grid
wPlayerPosX:: db
wPlayerPosY:: db
wPlayerData:: db ;last 2 bits for facing 
wOOBFlag:: db ;flags a traversal through FOV as out of bounds of the dungeon
wSequences:: ds 12 ;3 pairs of 16 bit addresses = 3 * 2 bytes * 2 = 12 bytes
SECTION "Input Variables", wram0
wCurKeys:: db
wNewKeys:: db

    

wRandom:: dw
wTilemapAddress:: dw
wScratchA:: db
wScratchB:: db
wScratchC:: db
wScratchD:: db
wScratchE:: db
wScratchF:: db
wScratchG:: db
wScratchH:: db
wScratchI:: db
wScratchJ:: db
wScratchK:: db
wScratchL:: db